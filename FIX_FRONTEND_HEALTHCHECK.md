# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ Healthcheck –¥–ª—è Frontend

## ‚ùå –ü—Ä–æ–±–ª–µ–º–∞:

Frontend —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è —É—Å–ø–µ—à–Ω–æ, –Ω–æ healthcheck –Ω–µ –ø—Ä–æ—Ö–æ–¥–∏—Ç. Nginx –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ `/health`.

## ‚úÖ –†–µ—à–µ–Ω–∏–µ:

### –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è Frontend

1. **–û—Ç–∫—Ä–æ–π—Ç–µ Frontend —Å–µ—Ä–≤–∏—Å ‚Üí Variables**
2. **–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã:**

```
API_URL = ${{Backend.RAILWAY_PUBLIC_DOMAIN}}
```

**–ò–õ–ò** (–µ—Å–ª–∏ Backend –µ—â–µ –Ω–µ –∏–º–µ–µ—Ç –ø—É–±–ª–∏—á–Ω–æ–≥–æ –¥–æ–º–µ–Ω–∞):

```
API_URL = ${{Backend.RAILWAY_PRIVATE_DOMAIN}}
```

**–í–ê–ñ–ù–û:** –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è `API_URL` –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞! –ë–µ–∑ –Ω–µ—ë nginx –Ω–µ —Å–º–æ–∂–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é.

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –∑–∞–ø—É—Å–∫–∞ nginx

1. **–û—Ç–∫—Ä–æ–π—Ç–µ Frontend —Å–µ—Ä–≤–∏—Å ‚Üí Deployments ‚Üí –ø–æ—Å–ª–µ–¥–Ω–∏–π –¥–µ–ø–ª–æ–π ‚Üí View Logs**
2. **–ü—Ä–æ–∫—Ä—É—Ç–∏—Ç–µ –¥–æ –∫–æ–Ω—Ü–∞ (–ø–æ—Å–ª–µ —Å–±–æ—Ä–∫–∏)**
3. **–ò—â–∏—Ç–µ –ª–æ–≥–∏ –∑–∞–ø—É—Å–∫–∞ nginx**

–î–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å—Ç—Ä–æ–∫–∏ —Ç–∏–ø–∞:
- `Starting nginx...`
- –ò–ª–∏ –æ—à–∏–±–∫–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ nginx

### –®–∞–≥ 3: –í—Ä–µ–º–µ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ (–µ—Å–ª–∏ Backend –µ—â–µ –Ω–µ –∑–∞–ø—É—â–µ–Ω)

–ï—Å–ª–∏ Backend —Å–µ—Ä–≤–∏—Å –µ—â–µ –Ω–µ –∏–º–µ–µ—Ç –ø—É–±–ª–∏—á–Ω–æ–≥–æ –¥–æ–º–µ–Ω–∞, –≤—Ä–µ–º–µ–Ω–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ:

```
API_URL = http://localhost:3000
```

–ü–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫ Backend –ø–æ–ª—É—á–∏—Ç –¥–æ–º–µ–Ω, –∏–∑–º–µ–Ω–∏—Ç–µ –Ω–∞:
```
API_URL = ${{Backend.RAILWAY_PRIVATE_DOMAIN}}
```

---

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ nginx

Healthcheck endpoint `/health` –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å. –ï—Å–ª–∏ nginx –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è, –Ω–æ healthcheck –Ω–µ –ø—Ä–æ—Ö–æ–¥–∏—Ç:

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ nginx –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –∑–∞–ø—É—â–µ–Ω:**
   - –í –ª–æ–≥–∞—Ö –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è –æ –∑–∞–ø—É—Å–∫–µ nginx
   - –ù–µ—Ç –æ—à–∏–±–æ–∫ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø–æ—Ä—Ç 80 –æ—Ç–∫—Ä—ã—Ç:**
   - Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –ø–æ—Ä—Ç 80 –¥–ª—è nginx

---

## üìã –ß–µ–∫-–ª–∏—Å—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

- [ ] –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è `API_URL` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –≤ Frontend —Å–µ—Ä–≤–∏—Å–µ
- [ ] `API_URL` —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ Backend (–ø—É–±–ª–∏—á–Ω—ã–π –∏–ª–∏ –ø—Ä–∏–≤–∞—Ç–Ω—ã–π –¥–æ–º–µ–Ω)
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω—ã –ª–æ–≥–∏ –∑–∞–ø—É—Å–∫–∞ nginx –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫
- [ ] –î–µ–ø–ª–æ–π –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω –ø–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö

---

## üêõ –ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏:

### –û—à–∏–±–∫–∞: "nginx: configuration file test failed"
**–ü—Ä–∏—á–∏–Ω–∞**: –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è `API_URL` –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –∏–ª–∏ –ø—É—Å—Ç–∞—è
**–†–µ—à–µ–Ω–∏–µ**: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `API_URL = ${{Backend.RAILWAY_PRIVATE_DOMAIN}}`

### –û—à–∏–±–∫–∞: Healthcheck –Ω–µ –ø—Ä–æ—Ö–æ–¥–∏—Ç
**–ü—Ä–∏—á–∏–Ω–∞**: Nginx –Ω–µ –∑–∞–ø—É—Å—Ç–∏–ª—Å—è –∏–ª–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è
**–†–µ—à–µ–Ω–∏–µ**: 
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –∑–∞–ø—É—Å–∫–∞
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `API_URL` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ nginx –∑–∞–ø—É—Å—Ç–∏–ª—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫

---

## ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è Frontend:

```
API_URL = ${{Backend.RAILWAY_PRIVATE_DOMAIN}}
VITE_API_URL = ${{Backend.RAILWAY_PRIVATE_DOMAIN}}/api/v1
VITE_SOCKET_URL = ${{Backend.RAILWAY_PRIVATE_DOMAIN}}
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `RAILWAY_PRIVATE_DOMAIN` –≤–º–µ—Å—Ç–æ `RAILWAY_PUBLIC_DOMAIN` –¥–ª—è –∏–∑–±–µ–∂–∞–Ω–∏—è –ø–ª–∞—Ç—ã –∑–∞ —Ç—Ä–∞—Ñ–∏–∫.
