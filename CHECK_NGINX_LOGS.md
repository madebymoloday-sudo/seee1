# üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤ –∑–∞–ø—É—Å–∫–∞ nginx

## ‚ùå –ü—Ä–æ–±–ª–µ–º–∞:

Frontend —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è —É—Å–ø–µ—à–Ω–æ, –Ω–æ healthcheck –Ω–µ –ø—Ä–æ—Ö–æ–¥–∏—Ç. Nginx –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ `/health`.

## ‚úÖ –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:

### –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –∑–∞–ø—É—Å–∫–∞ nginx

1. **–û—Ç–∫—Ä–æ–π—Ç–µ Frontend —Å–µ—Ä–≤–∏—Å ‚Üí Deployments ‚Üí –ø–æ—Å–ª–µ–¥–Ω–∏–π –¥–µ–ø–ª–æ–π ‚Üí View Logs**
2. **–ü—Ä–æ–∫—Ä—É—Ç–∏—Ç–µ –¥–æ —Å–∞–º–æ–≥–æ –∫–æ–Ω—Ü–∞** (–ø–æ—Å–ª–µ —Å—Ç—Ä–æ–∫–∏ "Build time: 38.26 seconds")
3. **–ò—â–∏—Ç–µ –ª–æ–≥–∏ –∑–∞–ø—É—Å–∫–∞ nginx:**

–î–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å—Ç—Ä–æ–∫–∏ —Ç–∏–ø–∞:
- `Nginx configuration generated with API_URL=...`
- `nginx: configuration file /etc/nginx/nginx.conf test is successful`
- `Starting nginx...`
- –ò–ª–∏ –æ—à–∏–±–∫–∏ —Ç–∏–ø–∞: `nginx: [emerg] ...`

**–ï—Å–ª–∏ —Ç–∞–∫–∏—Ö –ª–æ–≥–æ–≤ –Ω–µ—Ç** - nginx –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è.

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é API_URL

1. **–û—Ç–∫—Ä–æ–π—Ç–µ Frontend —Å–µ—Ä–≤–∏—Å ‚Üí Variables**
2. **–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è:**

```
API_URL = ${{Backend.RAILWAY_PRIVATE_DOMAIN}}
```

**–ò–õ–ò** (–µ—Å–ª–∏ Backend –µ—â–µ –Ω–µ –∏–º–µ–µ—Ç –¥–æ–º–µ–Ω–∞, –≤—Ä–µ–º–µ–Ω–Ω–æ):

```
API_URL = http://localhost:3000
```

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ nginx –∑–∞–ø—É—Å—Ç–∏–ª—Å—è

–í –ª–æ–≥–∞—Ö –ø–æ—Å–ª–µ —Å–±–æ—Ä–∫–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è –æ —Ä–∞–±–æ—Ç–µ nginx. –ï—Å–ª–∏ –∏—Ö –Ω–µ—Ç, –∑–Ω–∞—á–∏—Ç nginx –Ω–µ –∑–∞–ø—É—Å—Ç–∏–ª—Å—è.

---

## üîß –†–µ—à–µ–Ω–∏–µ:

### –ï—Å–ª–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è API_URL –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞:

1. **–î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –≤ Frontend —Å–µ—Ä–≤–∏—Å ‚Üí Variables:**
   ```
   API_URL = http://localhost:3000
   ```
   (–≤—Ä–µ–º–µ–Ω–Ω–æ, –ø–æ–∫–∞ Backend –Ω–µ –ø–æ–ª—É—á–∏—Ç –¥–æ–º–µ–Ω)

2. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –¥–µ–ø–ª–æ–π**

### –ï—Å–ª–∏ nginx –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è:

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ nginx. –¢–∏–ø–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏:
- `nginx: [emerg] invalid number of arguments in "proxy_pass" directive`
- `nginx: configuration file /etc/nginx/nginx.conf test failed`

---

## üìã –ß—Ç–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –≤ –ª–æ–≥–∞—Ö:

–ü–æ—Å–ª–µ —Å–±–æ—Ä–∫–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å—Ç—Ä–æ–∫–∏:

```
Nginx configuration generated with API_URL=http://...
nginx: configuration file /etc/nginx/nginx.conf test is successful
Starting nginx...
```

–ï—Å–ª–∏ —ç—Ç–∏—Ö —Å—Ç—Ä–æ–∫ –Ω–µ—Ç - nginx –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∏–∑-–∑–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π API_URL –∏–ª–∏ –æ—à–∏–±–∫–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏.

---

## ‚úÖ –ë—ã—Å—Ç—Ä–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:

1. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é API_URL –≤ Frontend —Å–µ—Ä–≤–∏—Å–µ:**
   ```
   API_URL = http://localhost:3000
   ```

2. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –¥–µ–ø–ª–æ–π**

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏** - –¥–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è —Å–æ–æ–±—â–µ–Ω–∏—è –æ –∑–∞–ø—É—Å–∫–µ nginx

4. **–ü–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫ Backend –ø–æ–ª—É—á–∏—Ç –¥–æ–º–µ–Ω**, –∏–∑–º–µ–Ω–∏—Ç–µ –Ω–∞:
   ```
   API_URL = ${{Backend.RAILWAY_PRIVATE_DOMAIN}}
   ```
